[![ci.yml](https://github.com/seokhan0731/webapi-lotto/actions/workflows/ci.yml/badge.svg)](https://github.com/seokhan0731/webapi-lotto/actions/workflows/ci.yml)

# java-webapi-lotto
---

# #0. 프로젝트 소개

---
해당 프로젝트는 우아한 테크코스 8기 프리코스 중, 오픈미션 과제입니다.

기존 3주차 로또 미션에서 수행한 코드를, Spring Boot를 이용하여, 웹 API를 구현하는 프로젝트입니다.

로또 구입 금액을 입력받아 로또를 발급하고, 당첨 번호와 보너스 번호를 비교하여 당첨 결과 및 수익률을 계산하는 기능을 수행합니다.

---

# #1. 기능할 구현 목록

## [로또 구매]

- [x] POST 요청으로 구입금액을 JSON 형식으로 받습니다.
- [x] POST 요청으로 구입 금액에 해당하는 만큼 로또를 발행합니다.
- [x] GET 요청으로 구입금액과 구매한 로또의 수를 조회하고 JSON 형식으로 반환합니다.
- [x] GET 요청으로 발행한 로또 당 추첨된 번호를 조회하고 JSON 형식으로 반환합니다.

## [당첨 번호]

- [x] POST 요청으로 당첨 번호를 JSON 형식으로 받습니다.
- [x] POST 요청으로 보너스 번호를 JSON 형식으로 받습니다.
- [x] GET 요청으로 당첨 번호를 조회하고 JSON 형식으로 반환합니다.
- [x] GET 요청으로 보너스 번호를 조회하고 JSON 형식으로 반환합니다.

## [결과 계산]

- [x] 당첨 결과를 계산합니다.
- [x] 수익률을 계산합니다.
- [x] GET 요청으로 당첨 결과를 조회하고 JSON 형식으로 반환합니다.
- [x] GET 요청으로 수익률을 조회하고 JSON 형식으로 반환합니다.

---

# #2. 예외 처리

## [공통]

- [x] POST 요청으로 기존 데이터 수정 시도시, 409 상태 코드를 반환합니다.

## [로또 구매]

- [x] 구입 금액이 1.000원으로 나누어 떨어지지 않는 경우, 400 상태 코드를 반환합니다.
- [x] 구입 금액이 양수가 아닌 경우, 400 상태 코드를 반환합니다.
- [x] 로또 발행시, 유효하지 않은 아이디를 입력하는 경우, 400 상태 코드를 반환합니다.

## [당첨 번호]

- [x] 당첨 로또 발행시, 번호의 수가 6개가 아니면, 400 상태 코드를 반환합니다.
- [x] 당첨 로또 발행시, 로또 번호가 중복되면, 400 상태 코드를 반환합니다.
- [x] 당첨 로또 발행시, 각 로또 번호의 범위가 1~45가 아닌 경우, 400 상태 코드를 반환합니다.
- [x] 당첨 로또 조회시, 유효하지 않은 아이디를 입력하는 경우, 400 상태 코드를 반환합니다.
- [x] 당첨 번호가 입력되지 않은 상태에서, 보너스 번호를 저장하고자 하는 경우, 409 상태 코드를 반환합니다.

## [결과 계산]

- [x] 결과 계산시, 유효하지 않은 아이디를 입력하는 경우, 400 상태 코드를 반환합니다.
- [x] 결과 계산시, 로또가 발행되지 않은 경우, 409 상태 코드를 반환합니다.
- [x] 결과 계산시, 당첨 로또가 존재하지 않는 경우, 409 상태 코드를 반환합니다.
- [x] 결과 계산시, 보너스 번호가 존재하지 않는 경우, 409 상태 코드를 반환합니다.

---

# # 상세 문서

이 프로젝트의 아키텍처, 고민 과정, 회고는 아래 문서에서 확인할 수 있습니다.

* **[아키텍처 및 설계 보고서](./docs/ARCHITECTURE.md)**
    * 전체 구조, 패키지 구조, 데이터베이스 설계, 기술적 의사결정
* **[트러블 슈팅 로그](./docs/TROUBLESHOOTING.md)**
    * 대면한 문제 상황, 원인 분석 및 해결
* **[회고록](./docs/RETROSPECT.md)**
    * 프로젝트 선정 배경, 프로젝트 진행 과정, 마무리
